import { useEffect, useState } from "react";

export default function CustomSwiper(props: any) {

    const [position, setPosition] = useState(props.initialPosition);
    const [scale, setScale] = useState("");
    const [align, setAlign] = useState("");
    const [zIndex, setZIndex] = useState("");
    const [buttonOpacity, setButtonOpacity] = useState("");

    useEffect(() => {
        switch (position) {
            case "center":
                setScale("scale-110");
                setAlign("justify-center");
                setZIndex("z-50");
                setButtonOpacity("opacity-100");
                break;
            case "left":
                setScale("scale-100");
                setAlign("justify-start");
                setZIndex("z-40");
                setButtonOpacity("opacity-0");
                break;
            case "right":
                setScale("scale-100");
                setAlign("justify-end");
                setZIndex("z-40");
                setButtonOpacity("opacity-0");
                break;
            default:
                setScale("scale-110");
                setPaddings("p-0");
                break;
        }

    }, [position])

    useEffect(() => {
        if (props.swipePos != undefined) {
            setPosition(props.swipePos);
        }
    }, [props.swipePos])

    return (
        <div className={`${scale} ${align} ${zIndex} w-full h-[440px] my-auto inset-0 duration-500 ease-linear flex items-center absolute`}>
            <div className="h-full w-full absolute z-[100] flex justify-between items-center px-4">
                <button className={`${buttonOpacity} rounded-full shadow-md duration-300`} onClick={props.previousSwipe}>
                    <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M9.83984 18.4225C8.59 18.4225 7.41315 18.1831 6.30932 17.7042C5.20548 17.2253 4.23305 16.5624 3.39203 15.7155C2.55102 14.8745 1.89105 13.9021 1.41214 12.7982C0.939064 11.6944 0.702528 10.5146 0.702528 9.25895C0.702528 8.00326 0.939064 6.8235 1.41214 5.71966C1.89105 4.61582 2.55102 3.6434 3.39203 2.80238C4.23305 1.96136 5.20256 1.30139 6.30056 0.822479C7.40439 0.343566 8.58124 0.104109 9.83108 0.104109C11.0868 0.104109 12.2665 0.343566 13.3704 0.822479C14.4742 1.30139 15.4466 1.96136 16.2877 2.80238C17.1287 3.6434 17.7857 4.61582 18.2588 5.71966C18.7377 6.8235 18.9772 8.00326 18.9772 9.25895C18.9772 10.5146 18.7377 11.6944 18.2588 12.7982C17.7857 13.9021 17.1287 14.8745 16.2877 15.7155C15.4466 16.5624 14.4742 17.2253 13.3704 17.7042C12.2665 18.1831 11.0897 18.4225 9.83984 18.4225ZM11.6358 13.6655C11.8051 13.4903 11.8869 13.2859 11.8811 13.0523C11.8811 12.8187 11.8022 12.623 11.6445 12.4653L8.20161 9.25895L11.6445 6.06132C11.8081 5.89779 11.8869 5.69922 11.8811 5.4656C11.8811 5.22615 11.7964 5.02757 11.627 4.86988C11.4693 4.71803 11.2795 4.64503 11.0576 4.65087C10.8415 4.65087 10.6517 4.72971 10.4881 4.8874L6.89628 8.25148C6.70355 8.42669 6.57506 8.63986 6.51081 8.891C6.44657 9.1363 6.44657 9.38452 6.51081 9.63565C6.57506 9.88095 6.70355 10.0941 6.89628 10.2752L10.4881 13.6393C10.6341 13.7853 10.8269 13.8612 11.0663 13.867C11.3058 13.867 11.4956 13.7999 11.6358 13.6655Z" fill="#FFFDFD" />
                    </svg>
                </button>
                <button className={`${buttonOpacity} rounded-full shadow-md duration-300`} onClick={props.nextSwipe}>
                    <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M10.0488 18.4225C8.79898 18.4225 7.62214 18.1831 6.5183 17.7042C5.41447 17.2253 4.44204 16.5624 3.60102 15.7155C2.76 14.8745 2.10003 13.9021 1.62112 12.7982C1.14805 11.6944 0.911512 10.5146 0.911512 9.25895C0.911512 8.00326 1.14805 6.8235 1.62112 5.71966C2.10003 4.61582 2.76 3.6434 3.60102 2.80238C4.44204 1.96136 5.41155 1.30139 6.50954 0.822479C7.61338 0.343566 8.79022 0.104109 10.0401 0.104109C11.2958 0.104109 12.4755 0.343566 13.5794 0.822479C14.6832 1.30139 15.6556 1.96136 16.4966 2.80238C17.3377 3.6434 17.9947 4.61582 18.4678 5.71966C18.9467 6.8235 19.1861 8.00326 19.1861 9.25895C19.1861 10.5146 18.9467 11.6944 18.4678 12.7982C17.9947 13.9021 17.3377 14.8745 16.4966 15.7155C15.6556 16.5624 14.6832 17.2253 13.5794 17.7042C12.4755 18.1831 11.2987 18.4225 10.0488 18.4225ZM7.99008 13.7707C8.13609 13.905 8.32883 13.9722 8.56828 13.9722C8.81358 13.9663 9.01508 13.8904 9.17277 13.7444L12.8347 10.3102C13.0333 10.1233 13.1647 9.90431 13.2289 9.65317C13.2932 9.3962 13.2932 9.14214 13.2289 8.891C13.1647 8.63402 13.0333 8.41501 12.8347 8.23395L9.17277 4.80856C8.99755 4.64503 8.79898 4.56034 8.57705 4.5545C8.35511 4.54866 8.1653 4.62458 8.00761 4.78227C7.83239 4.94581 7.74187 5.15022 7.73603 5.39552C7.73603 5.63497 7.82071 5.83355 7.99008 5.99124L11.5031 9.26771L7.99008 12.5529C7.82655 12.7106 7.74187 12.9092 7.73603 13.1487C7.73019 13.3823 7.81487 13.5896 7.99008 13.7707Z" fill="#FFFDFD" />
                    </svg>
                </button>
            </div>
            {props.children}
        </div>
    )
}
